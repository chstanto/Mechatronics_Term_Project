<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ME405 Portfolio: Lab_03_Back.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ME405 Portfolio
   </div>
   <div id="projectbrief">The following documentation details each step of the ME 405 term project.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('Lab__03__Back_8py.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Lab_03_Back.py File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Backend of lab 3 to be run on Nucleo and collect data.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0d456aac81d4db6b73e835fd6a72df61"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Lab__03__Back_8py.html#a0d456aac81d4db6b73e835fd6a72df61">Lab_03_Back.UserInterrupt</a> (pin)</td></tr>
<tr class="memdesc:a0d456aac81d4db6b73e835fd6a72df61"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the callback function for the user button press.  <a href="Lab__03__Back_8py.html#a0d456aac81d4db6b73e835fd6a72df61">More...</a><br /></td></tr>
<tr class="separator:a0d456aac81d4db6b73e835fd6a72df61"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6a50d9572171956316561306680845a0"><td class="memItemLeft" align="right" valign="top"><a id="a6a50d9572171956316561306680845a0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Lab__03__Back_8py.html#a6a50d9572171956316561306680845a0">Lab_03_Back.myuart</a> = UART(2)</td></tr>
<tr class="memdesc:a6a50d9572171956316561306680845a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines serial input port. <br /></td></tr>
<tr class="separator:a6a50d9572171956316561306680845a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89d99ef9410666801d1de0cce0b14643"><td class="memItemLeft" align="right" valign="top"><a id="a89d99ef9410666801d1de0cce0b14643"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Lab__03__Back_8py.html#a89d99ef9410666801d1de0cce0b14643">Lab_03_Back.ADCPin</a> = pyb.Pin(pyb.Pin.board.PA0)</td></tr>
<tr class="memdesc:a89d99ef9410666801d1de0cce0b14643"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the pin for the user input button. <br /></td></tr>
<tr class="separator:a89d99ef9410666801d1de0cce0b14643"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7946d15fb2e2bf081f298e5e38aa88d"><td class="memItemLeft" align="right" valign="top"><a id="ad7946d15fb2e2bf081f298e5e38aa88d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Lab__03__Back_8py.html#ad7946d15fb2e2bf081f298e5e38aa88d">Lab_03_Back.timer</a> = pyb.Timer(2 , prescaler = 79 , period = int(100))</td></tr>
<tr class="memdesc:ad7946d15fb2e2bf081f298e5e38aa88d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the timer to be used. <br /></td></tr>
<tr class="separator:ad7946d15fb2e2bf081f298e5e38aa88d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70d2bdac60fe039c5ca712b4c1b32434"><td class="memItemLeft" align="right" valign="top"><a id="a70d2bdac60fe039c5ca712b4c1b32434"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Lab__03__Back_8py.html#a70d2bdac60fe039c5ca712b4c1b32434">Lab_03_Back.buffer</a> = array.array('H' , (0 for index in range (101)))</td></tr>
<tr class="memdesc:a70d2bdac60fe039c5ca712b4c1b32434"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines memory buffer to be used in data collection. <br /></td></tr>
<tr class="separator:a70d2bdac60fe039c5ca712b4c1b32434"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f0a017d1011f76b7de890f3022fd335"><td class="memItemLeft" align="right" valign="top"><a id="a2f0a017d1011f76b7de890f3022fd335"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Lab__03__Back_8py.html#a2f0a017d1011f76b7de890f3022fd335">Lab_03_Back.adc</a> = pyb.ADC(ADCPin)</td></tr>
<tr class="memdesc:a2f0a017d1011f76b7de890f3022fd335"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variable defines the analog to digital converter pin. <br /></td></tr>
<tr class="separator:a2f0a017d1011f76b7de890f3022fd335"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2eacf4589cc6cfdc97ce9320a584f86"><td class="memItemLeft" align="right" valign="top"><a id="ac2eacf4589cc6cfdc97ce9320a584f86"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Lab__03__Back_8py.html#ac2eacf4589cc6cfdc97ce9320a584f86">Lab_03_Back.state</a> = 0</td></tr>
<tr class="memdesc:ac2eacf4589cc6cfdc97ce9320a584f86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variable representing the current state of the program. <br /></td></tr>
<tr class="separator:ac2eacf4589cc6cfdc97ce9320a584f86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5245fdacc67485be99e23bca5b6bb140"><td class="memItemLeft" align="right" valign="top"><a id="a5245fdacc67485be99e23bca5b6bb140"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Lab__03__Back_8py.html#a5245fdacc67485be99e23bca5b6bb140">Lab_03_Back.pinA5</a> = pyb.Pin(pyb.Pin.cpu.A5 , pyb.Pin.OUT_PP)</td></tr>
<tr class="memdesc:a5245fdacc67485be99e23bca5b6bb140"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setting up Nucleo LED. <br /></td></tr>
<tr class="separator:a5245fdacc67485be99e23bca5b6bb140"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a770cd971d8650d843f6947bd0e74e02f"><td class="memItemLeft" align="right" valign="top"><a id="a770cd971d8650d843f6947bd0e74e02f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Lab__03__Back_8py.html#a770cd971d8650d843f6947bd0e74e02f">Lab_03_Back.Interrupt_Button</a> = pyb.ExtInt(pyb.Pin.board.PC13, pyb.ExtInt.IRQ_RISING, pyb.Pin.PULL_UP, UserInterrupt)</td></tr>
<tr class="memdesc:a770cd971d8650d843f6947bd0e74e02f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defining nucleo user input button as external interrupt. <br /></td></tr>
<tr class="separator:a770cd971d8650d843f6947bd0e74e02f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeee5b92c4df2e429ebc965e88b2a0d69"><td class="memItemLeft" align="right" valign="top"><a id="aeee5b92c4df2e429ebc965e88b2a0d69"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Lab__03__Back_8py.html#aeee5b92c4df2e429ebc965e88b2a0d69">Lab_03_Back.voltage</a> = int(buffer[n])*3.3/4095</td></tr>
<tr class="memdesc:aeee5b92c4df2e429ebc965e88b2a0d69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variable representing adc data converted to voltage. <br /></td></tr>
<tr class="separator:aeee5b92c4df2e429ebc965e88b2a0d69"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Backend of lab 3 to be run on Nucleo and collect data. </p>
<p>This file will run on the Nucleo and collect voltage data to be sent via serial to spyder. This program will initially wait for input from spyder, after which it will again wait for user input through the blue button. The button press causes an interrupt which starts the data collection of the button pin voltage. This data is then converted to voltage and sent back to spyder. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a0d456aac81d4db6b73e835fd6a72df61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d456aac81d4db6b73e835fd6a72df61">&#9670;&nbsp;</a></span>UserInterrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Lab_03_Back.UserInterrupt </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the callback function for the user button press. </p>
<p>This function is called when the blue user button is pressed. The only thing this callback does is adjust the state to the data collection state in order to capture the pin voltage. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin</td><td>This fulfills the parameter requirement of the callback fcn. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="Lab__03__Back_8py.html">Lab_03_Back.py</a></li>
    <li class="footer">Generated on Sun Dec 19 2021 14:49:03 for ME405 Portfolio by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
